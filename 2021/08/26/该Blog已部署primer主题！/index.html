<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
  <meta charset="utf-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <link rel="icon" href="/favicon.ico">
  
  <title>苍旻之匣 | 该Blog已部署Primer主题！</title>
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/lib/fancybox/jquery.fancybox-1.3.4.css">

  <!--在这里倒入jquery 方便处理部分页面的jquery-->
  <script src="https://cdn.staticfile.org/jquery/1.7/jquery.min.js" type="text/javascript" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
	<header class="site-header navfixed-false">
  <div class="container">
      <h1><a href="/" title="苍旻之匣"><span class="octicon octicon-mark-github"></span> 苍旻之匣</a></h1>
      <nav class="site-header-nav" role="navigation">
        
              
              <a href="/"  class=" site-header-nav-item hvr-underline-from-center" title="Home">Home</a>
        
              
              <a href="/categories/"  class=" site-header-nav-item hvr-underline-from-center" title="分类">分类</a>
        
              
              <a href="/open-source/"  class=" site-header-nav-item hvr-underline-from-center" title="开源项目">开源项目</a>
        
              
              <a href="/message/"  class=" site-header-nav-item hvr-underline-from-center" title="留言板">留言板</a>
        
      </nav>
  </div>
</header>

	
<section class="collection-head geopattern" data-pattern-id="该Blog已部署Primer主题！" >
    <div class="container">
        <div class="collection-title">
            <h1 class="collection-header">
                该Blog已部署Primer主题！
            </h1>
            
                <div class="collection-info">
                    <span class="meta-info">
                        <span class="octicon octicon-calendar"></span>
                        <time datetime="2021-08-26T04:40:37.000Z" itemprop="datePublished">2021-08-26</time>
                    </span>
                    
                        <span class="meta-info">
                            <span class="octicon octicon-file-directory"></span>
                            <a href='/categories/Blog/' title=''>Blog</a>
                        </span>
                    
                </div>
            
        </div>
    </div>
</section>
	<section class="container">
    <div class="columns">
        <div class="column  three-fourths " >
            <article class="article-content markdown-body">
                <p>虽然没有这样的常言，但常言道部署完hexo的第一件事就应该是找主题。在hexo的官方文档里挑花了眼也不知道该选什么主题比较好，在一阵走马观花的挑选之后我最终决定了既简洁时尚又功能繁多的Fluid————本来应该是这样的，然而我在最后的最后被一篇介绍Fluid的博客的主题给截胡，一眼相中了简介大气重点突出的Primer并义无反顾地火速配置了主题。</p>
<p>相比fluid，Primer是个年久失修的老旧主题，最后一次更新远在2017年，彼时hexo的版本还停留在3.0，如今光是版本号的数字就已经翻了近一倍（截至2021年8月26日，hexo的最新版本号为5.4.0）。但老归老，鼓捣鼓捣还能用。也顺手在这篇文章里写写配置Primer时遇到的坑，如果有谁和我一样为了这些坑整的焦头烂额的时候搜到了这篇文章能帮上忙那就太好了。</p>
<span id="more"></span>

<h3 id="部署到Github-Pages时主题失效问题"><a href="#部署到Github-Pages时主题失效问题" class="headerlink" title="部署到Github Pages时主题失效问题"></a>部署到Github Pages时主题失效问题</h3><p>因为Hexo 5.0.0以前的版本不支持直接安装主题，Primer的文档里采用的是将主程序<code>git clone</code>到本地再在<code>_config.yml</code>中手动引导theme的方法。这个方法在本地使用的时候没什么问题——当然前提是记得要先cd到themes目录下再<code>git clone</code>——但是在推送到Github Pages的时候就会发现themes文件夹无法和其他文件一并上传，并且会导致Blog主页失去所有样式。但不论是检查gitignore还是执行<code>hexo clean</code>都无法将themes推送上去。</p>
<p>而这个问题的解决方法其实出人意料的单纯和简单。因为主题是通过<code>git clone</code>的方式搭载的，而<code>hexo d</code>在检测到这是属于他人的git仓库之后就会放弃将其push到远程仓库。所以只要删除hexo-theme-Primer文件夹下的.git文件夹就能一劳永逸的解决问题了。<del>而且毕竟这也是个没人维护的古老项目了也不用担心后续更新什么的</del></p>
<h3 id="footer的署名与RSS问题"><a href="#footer的署名与RSS问题" class="headerlink" title="footer的署名与RSS问题"></a>footer的署名与RSS问题</h3><p>Primer在footer处默认的署名是<code>© 2016 yumemor</code>并且没有给出更改的接口，但既然是自己的Blog，想要在footer上署上自己的名字也是人之常情。幸亏Primer的结构非常单纯，在<code>hexo-theme-primer/layout/_partial/footer.ejs</code>文件中，我们可以轻松更改footer的写法。另外，因为这个Blog目前并没有配置RSS，也可以在这里将RSS入口删去。</p>
<p>在这里贴出我参考<a target="_blank" rel="noopener" href="https://github.com/haruue">春上冰月</a>的Blog修改过的<code>footer.ejs</code>段落：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;footer class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;site-footer&quot; role=&quot;contentinfo&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;copyright left mobile-block&quot;&gt;</span><br><span class="line">                © 2021</span><br><span class="line">                &lt;span title=&quot;yumemor&quot;&gt;SomiaWhiteRing&lt;/span&gt;</span><br><span class="line">                &lt;a href=&quot;javascript:window.scrollTo(0,0)&quot; class=&quot;right mobile-visible&quot;&gt;TOP&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ul class=&quot;site-footer-links right mobile-hidden&quot;&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">                &lt;a href=&quot;javascript:window.scrollTo(0,0)&quot; &gt;TOP&lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">        &lt;a href=&quot;https://github.com/SomiaWhiteRing&quot; target=&quot;_blank&quot; aria-label=&quot;view source code&quot;&gt;</span><br><span class="line">            &lt;span class=&quot;mega-octicon octicon-mark-github&quot; title=&quot;GitHub&quot;&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line"></span><br><span class="line">        &lt;ul class=&quot;site-footer-links mobile-hidden&quot;&gt;</span><br><span class="line">            &lt;% for (var nav in theme.menus) &#123; %&gt;</span><br><span class="line">                  &lt;%</span><br><span class="line">                    var title = theme.menus[nav].name;</span><br><span class="line">                    var href = theme.menus[nav].link;</span><br><span class="line">                    var link = &quot;^&quot; + href;  </span><br><span class="line">                    var target = theme.menus[nav].target;</span><br><span class="line">                  %&gt;</span><br><span class="line">                  &lt;li&gt;</span><br><span class="line">                    &lt;a href=&quot;&lt;%- url_for(href) %&gt;&quot; &lt;%if(target)&#123;%&gt;target=&quot;&lt;%=target%&gt;&quot;&lt;%&#125;%&gt; title=&quot;&lt;%= title %&gt;&quot;&gt;&lt;%= title %&gt;&lt;/a&gt;</span><br><span class="line">                  &lt;/li&gt;</span><br><span class="line">            &lt;% &#125; %&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;span title=&quot;hexo&quot;&gt;由 &lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://hexo.io/&quot;&gt;hexo&lt;/a&gt; 驱动&lt;/span&gt;</span><br><span class="line">            &lt;span title=&quot;yumemor&quot;&gt;并使用基于 &lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://github.com/yumemor/hexo-theme-primer&quot;&gt;primer&lt;/a&gt; 的主题&lt;/span&gt;&lt;br&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/footer&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>好的到目前为止遇到的问题都说了个大概，如果接下来又遇到什么问题的话大概也会更新在这篇文章……不得不说虽然不希望出bug但是 嘛 这种年久失修的项目不出点问题反而才不正常对吧（</p>

            </article>
            
                <div class="share">
                    <!--开启分享-->
<div class="share-component" data-disabled="google,twitter,facebook" data-description="虽然没有这样的常言，但常言道部署完hexo的第一件事就..."></div>


<script src="/js/share.min.js"></script>


                </div>    
            

            

            
<div class="comments">
    <div id="gitalk-container"></div>
        
<script src="/js/gitalk.js"></script>

        <script>
            var gitalk = new Gitalk({
                clientID: "28c298a3ce77869e79d3",
                clientSecret: "7a1bbd121cba3e328121ef4e42bdd383207cc7b9",
                repo: 'blog-gitment',
                owner: 'SomiaWhiteRing',
                admin: ['SomiaWhiteRing'],
                id: decodeURI('/2021/08/26/%E8%AF%A5Blog%E5%B7%B2%E9%83%A8%E7%BD%B2primer%E4%B8%BB%E9%A2%98%EF%BC%81/'),
            })
        gitalk.render('gitalk-container')
        </script>
</div>

            

        </div>
        <div class="column one-fourth">
            
                
                


<h3>Post Directory</h3>

<div id="post-directory-module">
	<section class="post-directory">
		<p><strong class="toc-title">文章目录</strong></p>
		<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E5%88%B0Github-Pages%E6%97%B6%E4%B8%BB%E9%A2%98%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98"><span class="toc-text">部署到Github Pages时主题失效问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#footer%E7%9A%84%E7%BD%B2%E5%90%8D%E4%B8%8ERSS%E9%97%AE%E9%A2%98"><span class="toc-text">footer的署名与RSS问题</span></a></li></ol>
	</section>
</div>
            
        </div>
    </div>
</section>

<footer class="container">
    <div class="site-footer" role="contentinfo">
        <div class="copyright left mobile-block">
                © 2021
                <span title="yumemor">SomiaWhiteRing</span>
                <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
        </div>

        <ul class="site-footer-links right mobile-hidden">
            <li>
                <a href="javascript:window.scrollTo(0,0)" >TOP</a>
            </li>
        </ul>

        <a href="https://github.com/SomiaWhiteRing" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <ul class="site-footer-links mobile-hidden">
            
                  
                  <li>
                    <a href="/"  title="Home">Home</a>
                  </li>
            
                  
                  <li>
                    <a href="/categories/"  title="分类">分类</a>
                  </li>
            
                  
                  <li>
                    <a href="/open-source/"  title="开源项目">开源项目</a>
                  </li>
            
                  
                  <li>
                    <a href="/message/"  title="留言板">留言板</a>
                  </li>
            
        </ul>

        <div>
            <span title="hexo">由 <a target="_blank" rel="noopener" href="https://hexo.io/">hexo</a> 驱动</span>
            <span title="yumemor">并使用基于 <a target="_blank" rel="noopener" href="https://github.com/yumemor/hexo-theme-primer">primer</a> 的主题</span><br>
        </div>
        
    </div>
</footer>

		
<script src="/js/geopattern.js"></script>

		
<script src="/js/highlight.pack.js"></script>

		
<script src="/lib/fancybox/jquery.fancybox-1.3.4.pack.js"></script>


		
			
<script src="/js/toc.js"></script>

		

		
<script src="/js/index.js"></script>


		 
<script src="/js/popular_repo.js"></script>
 

	</body>
</html>